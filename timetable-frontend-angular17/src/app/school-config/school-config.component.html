<div class="school-config-container">
  <div class="config-header">
    <h2>{{ lang.getCurrentLanguage() === 'fr' ? 'ParamÃ©trage' : 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª' }}</h2>
    <button class="btn-close" (click)="cancel()" title="Fermer">âœ•</button>
  </div>

  <!-- Tabs -->
  <div class="settings-tabs no-print">
    <button [class.active]="activeTab==='school'" (click)="activeTab='school'">
      {{ lang.getCurrentLanguage() === 'fr' ? 'Ã‰tablissement' : 'Ø§Ù„Ù…Ø¤Ø³Ø³Ø©' }}
    </button>
    <button [class.active]="activeTab==='rename'" (click)="activeTab='rename'">
      {{ lang.getCurrentLanguage() === 'fr' ? 'Renommer' : 'Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ³Ù…ÙŠØ©' }}
    </button>
    <button [class.active]="activeTab==='print'" (click)="activeTab='print'">
      {{ lang.getCurrentLanguage() === 'fr' ? 'PDF / Impression' : 'PDF / Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©' }}
    </button>
  </div>

  <div class="config-content" [dir]="lang.getCurrentLanguage() === 'ar' ? 'rtl' : 'ltr'">
    <ng-container *ngIf="activeTab==='school'">
    <!-- Logo -->
    <div class="form-group">
      <label>
        {{ lang.getCurrentLanguage() === 'fr' ? 'Logo de l\'Ã©tablissement' : 'Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¤Ø³Ø³Ø©' }}
      </label>
      <div class="logo-upload">
        <div class="logo-preview" *ngIf="logoPreview">
          <img [src]="logoPreview" alt="Logo">
          <button type="button" class="btn-remove-logo" (click)="removeLogo()">
            {{ lang.getCurrentLanguage() === 'fr' ? 'Supprimer' : 'Ø­Ø°Ù' }}
          </button>
        </div>
        <div class="logo-upload-btn" *ngIf="!logoPreview">
          <input type="file" id="logoInput" accept="image/*" (change)="onLogoSelected($event)" style="display: none;">
          <label for="logoInput" class="btn-upload">
            ğŸ“ {{ lang.getCurrentLanguage() === 'fr' ? 'Choisir une image' : 'Ø§Ø®ØªØ± ØµÙˆØ±Ø©' }}
          </label>
          <small>{{ lang.getCurrentLanguage() === 'fr' ? 'PNG, JPG ou SVG' : 'PNG, JPG Ø£Ùˆ SVG' }}</small>
        </div>
      </div>
    </div>

    <!-- Taille du logo -->
    <div class="form-group">
      <label for="logoSize">
        {{ lang.getCurrentLanguage() === 'fr' ? 'Taille du logo (px)' : 'Ø­Ø¬Ù… Ø§Ù„Ø´Ø¹Ø§Ø± (Ø¨Ø§Ù„Ø¨ÙƒØ³Ù„)' }}
      </label>
      <div style="display:flex; align-items:center; gap:12px;">
        <input type="range" id="logoSize" min="60" max="180" step="5" [(ngModel)]="schoolInfo.logoSize" style="flex:1;">
        <input type="number" min="60" max="180" step="5" [(ngModel)]="schoolInfo.logoSize" style="width:90px;">
      </div>
      <small style="color:#666;">
        {{ lang.getCurrentLanguage() === 'fr' ? 'Astuce: 100 Ã  140 px convient gÃ©nÃ©ralement pour l\'en-tÃªte.' : 'Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨ÙŠÙ† 100 Ùˆ 140 Ø¨ÙƒØ³Ù„ Ù…Ù†Ø§Ø³Ø¨ Ø¹Ø§Ø¯Ø© Ù„Ù„Ø±Ø£Ø³.' }}
      </small>
    </div>

    <!-- Dimensions en centimÃ¨tres -->
    <div class="form-group">
      <label>
        {{ lang.getCurrentLanguage() === 'fr' ? 'Dimensions en centimÃ¨tres' : 'Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø¨Ø§Ù„Ø³Ù†ØªÙŠÙ…ØªØ±' }}
      </label>
      <div style="display:flex; align-items:center; gap:12px; flex-wrap: wrap;">
        <div style="display:flex; align-items:center; gap:8px;">
          <span style="min-width:70px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Largeur' : 'Ø§Ù„Ø¹Ø±Ø¶' }}</span>
          <input type="number" min="5" max="20" step="0.1" [(ngModel)]="schoolInfo.logoWidthCm" style="width:100px;">
          <span>cm</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
          <span style="min-width:70px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Hauteur' : 'Ø§Ù„Ø§Ø±ØªÙØ§Ø¹' }}</span>
          <input type="number" min="1" max="10" step="0.1" [(ngModel)]="schoolInfo.logoHeightCm" style="width:100px;">
          <span>cm</span>
        </div>
      </div>
      <small style="color:#666;">
        {{ lang.getCurrentLanguage() === 'fr' ? 'Ex: 11 cm (largeur) Ã— 2 cm (hauteur) pour un bandeau horizontal' : 'Ù…Ø«Ø§Ù„: 11 Ø³Ù… Ø¹Ø±Ø¶ Ã— 2 Ø³Ù… Ø§Ø±ØªÙØ§Ø¹ Ù„Ø´Ø¹Ø§Ø± Ø£ÙÙ‚ÙŠ' }}
      </small>
    </div>

    <!-- AcadÃ©mie / RÃ©gion / District -->
    <div class="form-group">
      <label for="academy">
        {{ lang.getCurrentLanguage() === 'fr' ? 'AcadÃ©mie / RÃ©gion / District' : 'Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© / Ø§Ù„Ù…Ù†Ø·Ù‚Ø© / Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø©' }}
      </label>
      <input 
        type="text" 
        id="academy" 
        [(ngModel)]="schoolInfo.academy"
        [placeholder]="lang.getCurrentLanguage() === 'fr' ? 'Ex: AcadÃ©mie RÃ©gionale de l\'Oriental' : 'Ù…Ø«Ø§Ù„: Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø¬Ù‡ÙˆÙŠØ© Ù„Ù„Ø´Ø±Ù‚'"
      >
    </div>

    <!-- Direction / DÃ©lÃ©gation -->
    <div class="form-group">
      <label for="direction">
        {{ lang.getCurrentLanguage() === 'fr' ? 'Direction / DÃ©lÃ©gation' : 'Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠØ© / Ø§Ù„Ù†ÙŠØ§Ø¨Ø©' }}
      </label>
      <input 
        type="text" 
        id="direction" 
        [(ngModel)]="schoolInfo.direction"
        [placeholder]="lang.getCurrentLanguage() === 'fr' ? 'Ex: Direction Provinciale d\'Oujda-Angad' : 'Ù…Ø«Ø§Ù„: Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠØ© Ø§Ù„Ø¥Ù‚Ù„ÙŠÙ…ÙŠØ© ÙˆØ¬Ø¯Ø© Ø£Ù†Ø¬Ø§Ø¯'"
      >
    </div>

    <!-- Ã‰tablissement -->
    <div class="form-group">
      <label for="establishment">
        {{ lang.getCurrentLanguage() === 'fr' ? 'Nom de l\'Ã©tablissement' : 'Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø³Ø³Ø©' }}
      </label>
      <input 
        type="text" 
        id="establishment" 
        [(ngModel)]="schoolInfo.establishment"
        [placeholder]="lang.getCurrentLanguage() === 'fr' ? 'Ex: CollÃ¨ge Ibn Khaldoun' : 'Ù…Ø«Ø§Ù„: Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ø¨Ù† Ø®Ù„Ø¯ÙˆÙ† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ©'"
      >
    </div>

    <!-- AnnÃ©e scolaire -->
    <div class="form-group">
      <label for="schoolYear">
        {{ lang.getCurrentLanguage() === 'fr' ? 'AnnÃ©e scolaire' : 'Ø§Ù„Ù…ÙˆØ³Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ' }}
      </label>
      <input 
        type="text" 
        id="schoolYear" 
        [(ngModel)]="schoolInfo.schoolYear"
        [placeholder]="lang.getCurrentLanguage() === 'fr' ? 'Ex: 2024-2025' : 'Ù…Ø«Ø§Ù„: 2024-2025'"
      >
      <small style="color:#666;">
        {{ lang.getCurrentLanguage() === 'fr' ? 'Format: AAAA-AAAA (ex: 2024-2025)' : 'Ø§Ù„ØªÙ†Ø³ÙŠÙ‚: Ø³Ù†Ø©-Ø³Ù†Ø© (Ù…Ø«Ø§Ù„: 2024-2025)' }}
      </small>
    </div>

    <!-- Boutons d'action -->
    <div class="form-actions">
      <button class="btn-save" (click)="save()">
        {{ lang.getCurrentLanguage() === 'fr' ? 'ğŸ’¾ Enregistrer' : 'ğŸ’¾ Ø­ÙØ¸' }}
      </button>
      <button class="btn-cancel" (click)="cancel()">
        {{ lang.getCurrentLanguage() === 'fr' ? 'Annuler' : 'Ø¥Ù„ØºØ§Ø¡' }}
      </button>
    </div>
    </ng-container>

    <!-- Tab Renommer -->
    <ng-container *ngIf="activeTab==='rename'">
      <app-rename-config [embedded]="true"></app-rename-config>
    </ng-container>

    <!-- Tab Impression -->
    <ng-container *ngIf="activeTab==='print'">
      <!-- En-tÃªte PDF (jsPDF) -->
      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'En-tÃªte PDF (jsPDF)' : 'Ø±Ø£Ø³ PDF (jsPDF)' }}
        </label>
        <div style="display:grid; grid-template-columns: repeat(2, minmax(260px, 1fr)); gap:12px; align-items:center;">
          <div style="display:flex; flex-direction:column; gap:6px;">
            <span style="font-size:13px; color:#444;">{{ lang.getCurrentLanguage() === 'fr' ? 'LibellÃ© Ã  droite' : 'Ø§Ù„Ù†Øµ Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†' }}</span>
            <select [(ngModel)]="printSettings.rightLabelFormat" style="padding:8px;">
              <option value="nameOnly">{{ lang.getCurrentLanguage() === 'fr' ? 'Nom seulement' : 'Ø§Ù„Ø§Ø³Ù… ÙÙ‚Ø·' }}</option>
              <option value="nameWithSubjectAr">{{ lang.getCurrentLanguage() === 'fr' ? 'Ø§Ù„Ø³ÙŠØ¯(Ø©): [Ø§Ù„Ø§Ø³Ù…] â€” Ø£Ø³ØªØ§Ø°(Ø©) Ù…Ø§Ø¯Ø© [Ø§Ù„Ù…Ø§Ø¯Ø©]' : 'Ø§Ù„Ø³ÙŠØ¯(Ø©): [Ø§Ù„Ø§Ø³Ù…] â€” Ø£Ø³ØªØ§Ø°(Ø©) Ù…Ø§Ø¯Ø© [Ø§Ù„Ù…Ø§Ø¯Ø©]' }}</option>
            </select>
            <small style="color:#666;">{{ lang.getCurrentLanguage() === 'fr' ? 'Sâ€™applique Ã  la vue Professeur; [Ø§Ù„Ù…Ø§Ø¯Ø©] est dÃ©duite automatiquement (matiÃ¨re la plus frÃ©quente).' : 'ØªÙ†Ø·Ø¨Ù‚ Ø¹Ù„Ù‰ Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³ØªØ§Ø°Ø› ÙŠØªÙ… Ø§Ø³ØªÙ†ØªØ§Ø¬ [Ø§Ù„Ù…Ø§Ø¯Ø©] ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ÙƒØ«Ø± ØªÙƒØ±Ø§Ø±Ù‹Ø§).' }}</small>
          </div>
          <div style="display:flex; align-items:center; gap:10px;">
            <label style="display:flex; align-items:center; gap:8px;">
              <input type="checkbox" [(ngModel)]="printSettings.invertYearAndName">
              {{ lang.getCurrentLanguage() === 'fr' ? 'Inverser positions (AnnÃ©e â‡„ Nom)' : 'Ø¹ÙƒØ³ Ø§Ù„Ù…ÙˆØ§Ø¶Ø¹ (Ø§Ù„Ø³Ù†Ø© â‡„ Ø§Ù„Ø§Ø³Ù…)' }}
            </label>
          </div>
          <div style="display:flex; align-items:center; gap:8px;">
            <span style="min-width:180px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Ajustement vertical (mm)' : 'Ø§Ù„Ø¶Ø¨Ø· Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ (Ù…Ù…)' }}</span>
            <input type="number" min="-10" max="10" step="1" [(ngModel)]="printSettings.headerYOffsetMm" style="width:100px;">
            <span>mm</span>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'Taille du logo Ã  l\'impression' : 'Ø­Ø¬Ù… Ø§Ù„Ø´Ø¹Ø§Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©' }}
        </label>
        <div style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
          <label style="display:flex; align-items:center; gap:8px;">
            <input type="checkbox" [(ngModel)]="printSettings.useDifferentLogoSize">
            {{ lang.getCurrentLanguage() === 'fr' ? 'Utiliser une taille diffÃ©rente de l\'Ã©cran' : 'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø­Ø¬Ù… Ù…Ø®ØªÙ„Ù Ø¹Ù† Ø§Ù„Ø´Ø§Ø´Ø©' }}
          </label>
          <div style="display:flex; align-items:center; gap:8px;">
            <span style="min-width:70px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Largeur' : 'Ø§Ù„Ø¹Ø±Ø¶' }}</span>
            <input type="number" min="5" max="25" step="0.1" [(ngModel)]="printSettings.printLogoWidthCm" [disabled]="!printSettings.useDifferentLogoSize" style="width:100px;">
            <span>cm</span>
          </div>
          <div style="display:flex; align-items:center; gap:8px;">
            <span style="min-width:70px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Hauteur' : 'Ø§Ù„Ø§Ø±ØªÙØ§Ø¹' }}</span>
            <input type="number" min="1" max="10" step="0.1" [(ngModel)]="printSettings.printLogoHeightCm" [disabled]="!printSettings.useDifferentLogoSize" style="width:100px;">
            <span>cm</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'Marges PDF (par cÃ´tÃ©)' : 'Ù‡ÙˆØ§Ù…Ø´ PDF (Ù„ÙƒÙ„ Ø¬Ø§Ù†Ø¨)' }}
        </label>
        <div style="display:grid; grid-template-columns: repeat(2, minmax(220px, 1fr)); gap:12px; align-items:center;">
          <div style="display:flex; align-items:center; gap:8px;">
            <span style="min-width:90px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Haut' : 'Ø£Ø¹Ù„Ù‰' }}</span>
            <input type="number" min="0" max="3" step="0.1" [(ngModel)]="printSettings.pdfMarginTopCm" style="width:100px;">
            <span>cm</span>
          </div>
          <div style="display:flex; align-items:center; gap:8px;">
            <span style="min-width:90px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Droite' : 'ÙŠÙ…ÙŠÙ†' }}</span>
            <input type="number" min="0" max="3" step="0.1" [(ngModel)]="printSettings.pdfMarginRightCm" style="width:100px;">
            <span>cm</span>
          </div>
          <div style="display:flex; align-items:center; gap:8px;">
            <span style="min-width:90px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Bas' : 'Ø£Ø³ÙÙ„' }}</span>
            <input type="number" min="0" max="3" step="0.1" [(ngModel)]="printSettings.pdfMarginBottomCm" style="width:100px;">
            <span>cm</span>
          </div>
          <div style="display:flex; align-items:center; gap:8px;">
            <span style="min-width:90px;">{{ lang.getCurrentLanguage() === 'fr' ? 'Gauche' : 'ÙŠØ³Ø§Ø±' }}</span>
            <input type="number" min="0" max="3" step="0.1" [(ngModel)]="printSettings.pdfMarginLeftCm" style="width:100px;">
            <span>cm</span>
          </div>
        </div>
        <small style="color:#666;">
          {{ lang.getCurrentLanguage() === 'fr' ? 'Conseil: mettez une petite marge Ã  droite (ex: 0.3 cm) pour gagner de l\'espace.' : 'Ù†ØµÙŠØ­Ø©: Ø§Ø¬Ø¹Ù„ Ø§Ù„Ù‡Ø§Ù…Ø´ Ø§Ù„Ø£ÙŠÙ…Ù† ØµØºÙŠØ±Ù‹Ø§ (Ù…Ø«Ù„Ø§Ù‹ 0.3 Ø³Ù…) Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§Ø­Ø©.' }}
        </small>
      </div>

      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'Orientation de la page' : 'Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©' }}
        </label>
        <select [(ngModel)]="printSettings.pdfOrientation" style="width:220px; padding:8px;">
          <option value="landscape">{{ lang.getCurrentLanguage() === 'fr' ? 'Paysage (A4)' : 'Ø£ÙÙ‚ÙŠ (A4)' }}</option>
          <option value="portrait">{{ lang.getCurrentLanguage() === 'fr' ? 'Portrait (A4)' : 'Ø¹Ù…ÙˆØ¯ÙŠ (A4)' }}</option>
        </select>
      </div>

      <div class="form-group">
        <label style="display:flex; align-items:center; gap:8px;">
          <input type="checkbox" [(ngModel)]="printSettings.forceOnePage">
          {{ lang.getCurrentLanguage() === 'fr' ? 'Forcer Ã  tenir sur une seule page (rÃ©duction automatique)' : 'ÙØ±Ø¶ ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø© (ØªØµØºÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ)' }}
        </label>
        <small style="color:#666;">{{ lang.getCurrentLanguage() === 'fr' ? 'DÃ©sactivez pour laisser le contenu sâ€™Ã©taler sur plusieurs pages.' : 'Ù‚Ù… Ø¨Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¹Ù„Ù‰ ØµÙØ­Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©.' }}</small>
      </div>

      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'DensitÃ© (qualitÃ©) PDF' : 'ÙƒØ«Ø§ÙØ© (Ø¬ÙˆØ¯Ø©) PDF' }}
        </label>
        <div style="display:flex; align-items:center; gap:12px;">
          <input type="range" min="1" max="3" step="0.1" [(ngModel)]="printSettings.pdfScale" style="flex:1;">
          <input type="number" min="1" max="3" step="0.1" [(ngModel)]="printSettings.pdfScale" style="width:100px;">
        </div>
        <small style="color:#666;">{{ lang.getCurrentLanguage() === 'fr' ? '1.0 = plus rapide / 2.0 = plus net, plus lourd' : '1.0 = Ø£Ø³Ø±Ø¹ / 2.0 = Ø£ÙˆØ¶Ø­ Ù„ÙƒÙ†Ù‡ Ø£Ø«Ù‚Ù„' }}</small>
      </div>

      <div class="form-group">
        <label style="display:flex; align-items:center; gap:8px;">
          <input type="checkbox" [(ngModel)]="printSettings.legacyPdf">
          {{ lang.getCurrentLanguage() === 'fr' ? 'Utiliser lâ€™ancienne gÃ©nÃ©ration PDF (recommandÃ© si affichage parfait)' : 'Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªÙˆÙ„ÙŠØ¯ PDF Ø§Ù„Ù‚Ø¯ÙŠÙ… (Ù…ÙˆØµÙ‰ Ø¨Ù‡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ø±Ø¶ Ù…Ù…ØªØ§Ø²Ù‹Ø§)' }}
        </label>
        <small style="color:#666;">{{ lang.getCurrentLanguage() === 'fr' ? 'Activez pour revenir au rendu qui fonctionnait le mieux auparavant.' : 'ÙØ¹ÙÙ‘Ù„ Ù„Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø°ÙŠ ÙƒØ§Ù† ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ù…Ù† Ù‚Ø¨Ù„.' }}</small>
      </div>

      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'Couleurs Ã  l\'impression' : 'Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¹Ù†Ø¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©' }}
        </label>
        <label style="display:flex; align-items:center; gap:8px;">
          <input type="checkbox" [(ngModel)]="printSettings.printColors">
          {{ lang.getCurrentLanguage() === 'fr' ? 'Imprimer avec couleurs' : 'Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø¨Ø§Ù„Ø£Ù„ÙˆØ§Ù†' }}
        </label>
      </div>

      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'Taille de police (PDF/Impression)' : 'Ø­Ø¬Ù… Ø§Ù„Ø®Ø· (PDF/Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©)' }}
        </label>
        <select [(ngModel)]="printSettings.fontSize" style="width:220px; padding:8px;">
          <option value="small">{{ lang.getCurrentLanguage() === 'fr' ? 'Petit' : 'ØµØºÙŠØ±' }}</option>
          <option value="medium">{{ lang.getCurrentLanguage() === 'fr' ? 'Moyen' : 'Ù…ØªÙˆØ³Ø·' }}</option>
          <option value="large">{{ lang.getCurrentLanguage() === 'fr' ? 'Grand' : 'ÙƒØ¨ÙŠØ±' }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'Gris des cellules vides' : 'Ø¯Ø±Ø¬Ø© Ø±Ù…Ø§Ø¯ÙŠ Ù„Ù„Ø®Ù„Ø§ÙŠØ§ Ø§Ù„ÙØ§Ø±ØºØ©' }}
        </label>
        <select [(ngModel)]="printSettings.emptyGray" style="width:220px; padding:8px;">
          <option value="light">{{ lang.getCurrentLanguage() === 'fr' ? 'Clair' : 'ÙØ§ØªØ­' }}</option>
          <option value="medium">{{ lang.getCurrentLanguage() === 'fr' ? 'Moyen' : 'Ù…ØªÙˆØ³Ø·' }}</option>
          <option value="dark">{{ lang.getCurrentLanguage() === 'fr' ? 'FoncÃ©' : 'ØºØ§Ù…Ù‚' }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>{{ lang.getCurrentLanguage() === 'fr' ? 'Contraste des bordures' : 'ØªØ¨Ø§ÙŠÙ† Ø§Ù„Ø­Ø¯ÙˆØ¯' }}</label>
        <label style="display:flex; align-items:center; gap:8px;">
          <input type="checkbox" [(ngModel)]="printSettings.thickBorders">
          {{ lang.getCurrentLanguage() === 'fr' ? 'Lignes Ã©paisses (2px)' : 'Ø®Ø·ÙˆØ· Ø³Ù…ÙŠÙƒØ© (2px)' }}
        </label>
      </div>

      <div class="form-group">
        <label>
          {{ lang.getCurrentLanguage() === 'fr' ? 'Espacement interne des cellules (padding)' : 'Ø§Ù„ØªØ¨Ø§Ø¹Ø¯ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ù„Ù„Ø®Ù„Ø§ÙŠØ§ (padding)' }}
        </label>
        <div style="display:flex; align-items:center; gap:12px;">
          <input type="range" min="0.1" max="2" step="0.1" [(ngModel)]="printSettings.cellPaddingMm" style="flex:1;">
          <input type="number" min="0.1" max="2" step="0.1" [(ngModel)]="printSettings.cellPaddingMm" style="width:100px;">
          <span>mm</span>
        </div>
        <small style="color:#666;">
          {{ lang.getCurrentLanguage() === 'fr' ? '0.3 mm = compact, 1.0 mm = plus aÃ©rÃ©' : '0.3 Ù…Ù… = Ù…Ø¶ØºÙˆØ·ØŒ 1.0 Ù…Ù… = Ø£ÙƒØ«Ø± ØªØ¨Ø§Ø¹Ø¯Ù‹Ø§' }}
        </small>
      </div>

      <div class="form-actions">
        <button class="btn-save" (click)="savePrintSettings()">
          {{ lang.getCurrentLanguage() === 'fr' ? 'ğŸ’¾ Enregistrer (Impression)' : 'ğŸ’¾ Ø­ÙØ¸ (Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©)' }}
        </button>
      </div>
    </ng-container>
  </div>
</div>
